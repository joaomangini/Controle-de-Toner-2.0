:root{
  --bg:#f4f6f9; --card:#fff; --primary:#2b7cff; --danger:#e04b4b;
  --muted:#6b7280; --text:#111; --header-bg:#0b2546;
  --table-border:#f0f0f0; --table-header-bg:#fafafa; --warn: #f59e0b;
}
[data-theme="dark"] {
  --bg:#1a1c23; --card:#252836; --primary:#3b82f6; --danger:#ef4444;
  --muted:#9ca3af; --text:#e5e7eb; --header-bg:#111827;
  --table-border:#374151; --table-header-bg:#1f2937; --warn: #f97316;
}
*{box-sizing:border-box}
body{
  margin:0;font-family:Inter, "Segoe UI", Arial, sans-serif;
  background:var(--bg);color:var(--text);
  transition: background-color 0.3s ease, color 0.3s ease;
}
.panel, .btn, input, select, textarea, .modal-content, .status-badge {
  transition: all 0.3s ease;
}
.header{
  display:flex;justify-content:space-between;align-items:center;padding:14px 20px;background:var(--header-bg);color:white;
}
.header h1{margin:0;font-size:1.05rem}
.header .header-actions .btn{margin-left:8px}
.btn-theme {background: transparent; color: white; display: flex; align-items: center; justify-content: center; padding: 6px;}
.container{
  max-width:1200px;margin:20px auto;padding:0 16px;display:grid; grid-template-columns: 1fr; gap:16px;
}
#panel-inventario, .full-width {
    grid-column: 1 / -1;
}
.panel{background:var(--card);padding:20px;border-radius:8px;box-shadow:0 6px 18px rgba(12,20,30,0.06)}
.panel h2{margin-top:0}
form label{display:block;margin-bottom:8px;font-size:0.95rem; font-weight: 500;}
.row{display:flex;gap:16px; margin-bottom: 12px;}
.row label{flex:1}
input, select, textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 0.95rem;
    background-color: var(--bg);
    color: var(--text);
}
.controls{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}
.filter-row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.date-filter{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.date-filter label{margin:0;font-size:0.9rem}
.date-filter input[type="date"]{width:auto}
textarea{min-height:80px}
.btn{
  display:inline-block;padding:10px 16px;border-radius:8px;border:0;
  cursor:pointer;background:#e5e7eb;transform: translateY(0);box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  font-weight: 600;
}
.btn:hover {transform: translateY(-2px);box-shadow: 0 4px 8px rgba(0,0,0,0.15);}
.btn:active {transform: translateY(0);box-shadow: 0 1px 2px rgba(0,0,0,0.1);}
.btn-primary{background:var(--primary);color:white}
.btn-red{background:var(--danger);color:white}
.table-wrap{overflow-x:auto}
table{width:100%;border-collapse:collapse;font-size:0.92rem; white-space: nowrap;}
th,td{padding:12px 15px;border-bottom:1px solid var(--table-border);text-align:left}
th{background:var(--table-header-bg);color:var(--muted); text-transform: uppercase; font-size: 0.8rem;}
th[data-sort] { cursor: pointer; user-select: none;}
th[data-sort]:hover { color: var(--text); }
th[data-sort].asc::after, th[data-sort].desc::after { content: ''; display: inline-block; margin-left: 5px; }
th[data-sort].asc::after { content: ' ▲'; }
th[data-sort].desc::after { content: ' ▼'; }
.actions-btns {white-space: nowrap;}
.actions-btns .btn{margin-right:6px; padding: 6px 10px; font-size: 0.85rem;}
.status-badge {display: inline-block; padding: 4px 10px; border-radius: 12px; font-size: 0.8rem; font-weight: 600;}
.status-uso {background: #dcfce7; color: #166534;}
.status-instalado {background: #cffafe; color: #0e7490;}
.status-manutencao {background: #fef3c7; color: #92400e;}
.status-descartado {background: #fee2e2; color: #991b1b;}
[data-theme="dark"] .status-uso {background: #065f46; color: #d1fae5;}
[data-theme="dark"] .status-instalado {background: #164e63; color: #cffafe;}
[data-theme="dark"] .status-manutencao {background: #78350f; color: #fef3c7;}
[data-theme="dark"] .status-descartado {background: #7f1d1d; color: #fee2e2;}
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(10,12,16,0.6);opacity: 1;transition: opacity 0.3s ease;z-index: 1000;}
.modal.hidden{opacity: 0;pointer-events: none;}
.modal-content{background:var(--card);color:var(--text);padding:24px;border-radius:8px;max-width:520px;width:92%;position:relative;transform: scale(1);transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);box-shadow: 0 10px 25px rgba(0,0,0,0.2);}
.modal.hidden .modal-content {transform: scale(0.8);}
.modal-close{position:absolute;right:10px;top:6px;background:transparent;border:0;font-size:1.6rem;cursor:pointer;color:var(--muted);transition: color 0.2s ease;}
.modal-close:hover {color:var(--danger);}
.modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:20px;}
.notification {position: fixed;bottom: 20px;right: 20px;background: var(--card);color: var(--text);padding: 12px 20px;border-radius: 8px;box-shadow: 0 4px 12px rgba(0,0,0,0.15);transform: translateY(100px);opacity: 0;transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);z-index: 1000;max-width: 300px;}
.notification.success {border-left: 4px solid #10b981;}
.notification.error {border-left: 4px solid var(--danger);}
.notification.show {transform: translateY(0);opacity: 1;}
.footer{padding:12px;text-align:center;color:var(--muted);font-size:0.9rem;margin-top:12px}
.hidden {display: none !important;}
.conditional-fields { margin-top: 12px; }
#cancelEditBtn { margin-left: 10px; }
.dashboard { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px; }
.card { background: var(--bg); padding: 16px; border-radius: 8px; text-align: center; }
.card h3 { margin: 0 0 8px 0; font-size: 2rem; color: var(--primary); }
.card p { margin: 0; color: var(--muted); }
.card.card-warn h3 { color: var(--warn); }

@media (max-width:900px){.container{grid-template-columns:1fr; padding:0 12px}.row{flex-direction:column; gap: 0; margin-bottom: 0;} .row label {margin-bottom: 12px;}}